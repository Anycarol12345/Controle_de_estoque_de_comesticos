{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nlet RelatoriosComponent = class RelatoriosComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.vendasPorMarca = [];\n    this.produtosMaisVendidos = [];\n    this.rentabilidade = null;\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.carregarRelatorios();\n  }\n  carregarRelatorios() {\n    this.loading = true;\n    this.apiService.getRelatorioVendasPorMarca().subscribe({\n      next: data => this.vendasPorMarca = data,\n      error: err => console.error(\"Erro ao carregar vendas por marca:\", err)\n    });\n    this.apiService.getRelatorioProdutosMaisVendidos().subscribe({\n      next: data => this.produtosMaisVendidos = data,\n      error: err => console.error(\"Erro ao carregar produtos mais vendidos:\", err)\n    });\n    this.apiService.getRelatorioRentabilidade().subscribe({\n      next: data => {\n        this.rentabilidade = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error(\"Erro ao carregar rentabilidade:\", err);\n        this.loading = false;\n      }\n    });\n  }\n  formatarMoeda(valor) {\n    return new Intl.NumberFormat(\"pt-BR\", {\n      style: \"currency\",\n      currency: \"BRL\"\n    }).format(valor);\n  }\n  formatarPercentual(valor) {\n    return `${valor.toFixed(2)}%`;\n  }\n};\nRelatoriosComponent = __decorate([Component({\n  selector: \"app-relatorios\",\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: \"./relatorios.component.html\",\n  styleUrls: [\"./relatorios.component.css\"]\n})], RelatoriosComponent);\nexport { RelatoriosComponent };","map":{"version":3,"names":["Component","CommonModule","RelatoriosComponent","constructor","apiService","vendasPorMarca","produtosMaisVendidos","rentabilidade","loading","ngOnInit","carregarRelatorios","getRelatorioVendasPorMarca","subscribe","next","data","error","err","console","getRelatorioProdutosMaisVendidos","getRelatorioRentabilidade","formatarMoeda","valor","Intl","NumberFormat","style","currency","format","formatarPercentual","toFixed","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\ANYCA\\Controle_de_estoque_de_comesticos-2\\angular-app\\src\\app\\pages\\produto-detalhes\\produto-detalhes.component.ts"],"sourcesContent":["import { Component, type OnInit } from \"@angular/core\"\r\nimport { CommonModule } from \"@angular/common\"\r\nimport type { ApiService } from \"../../service/api.service\"\r\n\r\n@Component({\r\n  selector: \"app-relatorios\",\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: \"./relatorios.component.html\",\r\n  styleUrls: [\"./relatorios.component.css\"],\r\n})\r\nexport class RelatoriosComponent implements OnInit {\r\n  vendasPorMarca: any[] = []\r\n  produtosMaisVendidos: any[] = []\r\n  rentabilidade: any = null\r\n  loading = true\r\n\r\n  constructor(private apiService: ApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.carregarRelatorios()\r\n  }\r\n\r\n  carregarRelatorios() {\r\n    this.loading = true\r\n\r\n    this.apiService.getRelatorioVendasPorMarca().subscribe({\r\n      next: (data) => (this.vendasPorMarca = data),\r\n      error: (err) => console.error(\"Erro ao carregar vendas por marca:\", err),\r\n    })\r\n\r\n    this.apiService.getRelatorioProdutosMaisVendidos().subscribe({\r\n      next: (data) => (this.produtosMaisVendidos = data),\r\n      error: (err) => console.error(\"Erro ao carregar produtos mais vendidos:\", err),\r\n    })\r\n\r\n    this.apiService.getRelatorioRentabilidade().subscribe({\r\n      next: (data) => {\r\n        this.rentabilidade = data\r\n        this.loading = false\r\n      },\r\n      error: (err) => {\r\n        console.error(\"Erro ao carregar rentabilidade:\", err)\r\n        this.loading = false\r\n      },\r\n    })\r\n  }\r\n\r\n  formatarMoeda(valor: number): string {\r\n    return new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valor)\r\n  }\r\n\r\n  formatarPercentual(valor: number): string {\r\n    return `${valor.toFixed(2)}%`\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AACtD,SAASC,YAAY,QAAQ,iBAAiB;AAUvC,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAL9B,KAAAC,cAAc,GAAU,EAAE;IAC1B,KAAAC,oBAAoB,GAAU,EAAE;IAChC,KAAAC,aAAa,GAAQ,IAAI;IACzB,KAAAC,OAAO,GAAG,IAAI;EAE+B;EAE7CC,QAAQA,CAAA;IACN,IAAI,CAACC,kBAAkB,EAAE;EAC3B;EAEAA,kBAAkBA,CAAA;IAChB,IAAI,CAACF,OAAO,GAAG,IAAI;IAEnB,IAAI,CAACJ,UAAU,CAACO,0BAA0B,EAAE,CAACC,SAAS,CAAC;MACrDC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACT,cAAc,GAAGS,IAAK;MAC5CC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,oCAAoC,EAAEC,GAAG;KACxE,CAAC;IAEF,IAAI,CAACZ,UAAU,CAACc,gCAAgC,EAAE,CAACN,SAAS,CAAC;MAC3DC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACR,oBAAoB,GAAGQ,IAAK;MAClDC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,0CAA0C,EAAEC,GAAG;KAC9E,CAAC;IAEF,IAAI,CAACZ,UAAU,CAACe,yBAAyB,EAAE,CAACP,SAAS,CAAC;MACpDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACP,aAAa,GAAGO,IAAI;QACzB,IAAI,CAACN,OAAO,GAAG,KAAK;MACtB,CAAC;MACDO,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,iCAAiC,EAAEC,GAAG,CAAC;QACrD,IAAI,CAACR,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAEAY,aAAaA,CAACC,KAAa;IACzB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;KACX,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC;EAClB;EAEAM,kBAAkBA,CAACN,KAAa;IAC9B,OAAO,GAAGA,KAAK,CAACO,OAAO,CAAC,CAAC,CAAC,GAAG;EAC/B;CACD;AA/CY1B,mBAAmB,GAAA2B,UAAA,EAP/B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,gBAAgB;EAC1BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC/B,YAAY,CAAC;EACvBgC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACWhC,mBAAmB,CA+C/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}