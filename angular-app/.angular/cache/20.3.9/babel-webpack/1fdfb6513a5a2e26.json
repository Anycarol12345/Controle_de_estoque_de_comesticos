{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { RouterModule } from \"@angular/router\";\nlet AlertasComponent = class AlertasComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.alertasEstoqueBaixo = [];\n    this.alertasVencimento = [];\n    this.alertasSemMovimentacao = [];\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.carregarAlertas();\n  }\n  carregarAlertas() {\n    this.loading = true;\n    this.apiService.getAlertasEstoqueBaixo().subscribe({\n      next: data => this.alertasEstoqueBaixo = data,\n      error: err => console.error(\"Erro ao carregar alertas de estoque baixo:\", err)\n    });\n    this.apiService.getAlertasVencimento().subscribe({\n      next: data => this.alertasVencimento = data,\n      error: err => console.error(\"Erro ao carregar alertas de vencimento:\", err)\n    });\n    this.apiService.getAlertasSemMovimentacao().subscribe({\n      next: data => {\n        this.alertasSemMovimentacao = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error(\"Erro ao carregar alertas sem movimentação:\", err);\n        this.loading = false;\n      }\n    });\n  }\n  formatarData(data) {\n    return new Date(data).toLocaleDateString(\"pt-BR\");\n  }\n  calcularDiasParaVencimento(validade) {\n    const hoje = new Date();\n    const dataValidade = new Date(validade);\n    const diff = dataValidade.getTime() - hoje.getTime();\n    return Math.ceil(diff / (1000 * 60 * 60 * 24));\n  }\n};\nAlertasComponent = __decorate([Component({\n  selector: \"app-alertas\",\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: \"./alertas.component.html\",\n  styleUrls: [\"./alertas.component.css\"]\n})], AlertasComponent);\nexport { AlertasComponent };","map":{"version":3,"names":["Component","CommonModule","RouterModule","AlertasComponent","constructor","apiService","alertasEstoqueBaixo","alertasVencimento","alertasSemMovimentacao","loading","ngOnInit","carregarAlertas","getAlertasEstoqueBaixo","subscribe","next","data","error","err","console","getAlertasVencimento","getAlertasSemMovimentacao","formatarData","Date","toLocaleDateString","calcularDiasParaVencimento","validade","hoje","dataValidade","diff","getTime","Math","ceil","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\ANYCA\\Controle_de_estoque_de_comesticos-2\\angular-app\\src\\app\\pages\\alertas\\alertas.component.ts"],"sourcesContent":["import { Component, type OnInit } from \"@angular/core\"\r\nimport { CommonModule } from \"@angular/common\"\r\nimport { RouterModule } from \"@angular/router\"\r\nimport type { ApiService, Produto } from \"../../services/api.service\"\r\n\r\n@Component({\r\n  selector: \"app-alertas\",\r\n  standalone: true,\r\n  imports: [CommonModule, RouterModule],\r\n  templateUrl: \"./alertas.component.html\",\r\n  styleUrls: [\"./alertas.component.css\"],\r\n})\r\nexport class AlertasComponent implements OnInit {\r\n  alertasEstoqueBaixo: Produto[] = []\r\n  alertasVencimento: any[] = []\r\n  alertasSemMovimentacao: Produto[] = []\r\n  loading = true\r\n\r\n  constructor(private apiService: ApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.carregarAlertas()\r\n  }\r\n\r\n  carregarAlertas() {\r\n    this.loading = true\r\n\r\n    this.apiService.getAlertasEstoqueBaixo().subscribe({\r\n      next: (data) => (this.alertasEstoqueBaixo = data),\r\n      error: (err) => console.error(\"Erro ao carregar alertas de estoque baixo:\", err),\r\n    })\r\n\r\n    this.apiService.getAlertasVencimento().subscribe({\r\n      next: (data) => (this.alertasVencimento = data),\r\n      error: (err) => console.error(\"Erro ao carregar alertas de vencimento:\", err),\r\n    })\r\n\r\n    this.apiService.getAlertasSemMovimentacao().subscribe({\r\n      next: (data) => {\r\n        this.alertasSemMovimentacao = data\r\n        this.loading = false\r\n      },\r\n      error: (err) => {\r\n        console.error(\"Erro ao carregar alertas sem movimentação:\", err)\r\n        this.loading = false\r\n      },\r\n    })\r\n  }\r\n\r\n  formatarData(data: string): string {\r\n    return new Date(data).toLocaleDateString(\"pt-BR\")\r\n  }\r\n\r\n  calcularDiasParaVencimento(validade: string): number {\r\n    const hoje = new Date()\r\n    const dataValidade = new Date(validade)\r\n    const diff = dataValidade.getTime() - hoje.getTime()\r\n    return Math.ceil(diff / (1000 * 60 * 60 * 24))\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AACtD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAUvC,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAM3BC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAL9B,KAAAC,mBAAmB,GAAc,EAAE;IACnC,KAAAC,iBAAiB,GAAU,EAAE;IAC7B,KAAAC,sBAAsB,GAAc,EAAE;IACtC,KAAAC,OAAO,GAAG,IAAI;EAE+B;EAE7CC,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAA,eAAeA,CAAA;IACb,IAAI,CAACF,OAAO,GAAG,IAAI;IAEnB,IAAI,CAACJ,UAAU,CAACO,sBAAsB,EAAE,CAACC,SAAS,CAAC;MACjDC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACT,mBAAmB,GAAGS,IAAK;MACjDC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,4CAA4C,EAAEC,GAAG;KAChF,CAAC;IAEF,IAAI,CAACZ,UAAU,CAACc,oBAAoB,EAAE,CAACN,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACR,iBAAiB,GAAGQ,IAAK;MAC/CC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,yCAAyC,EAAEC,GAAG;KAC7E,CAAC;IAEF,IAAI,CAACZ,UAAU,CAACe,yBAAyB,EAAE,CAACP,SAAS,CAAC;MACpDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACP,sBAAsB,GAAGO,IAAI;QAClC,IAAI,CAACN,OAAO,GAAG,KAAK;MACtB,CAAC;MACDO,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,4CAA4C,EAAEC,GAAG,CAAC;QAChE,IAAI,CAACR,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAEAY,YAAYA,CAACN,IAAY;IACvB,OAAO,IAAIO,IAAI,CAACP,IAAI,CAAC,CAACQ,kBAAkB,CAAC,OAAO,CAAC;EACnD;EAEAC,0BAA0BA,CAACC,QAAgB;IACzC,MAAMC,IAAI,GAAG,IAAIJ,IAAI,EAAE;IACvB,MAAMK,YAAY,GAAG,IAAIL,IAAI,CAACG,QAAQ,CAAC;IACvC,MAAMG,IAAI,GAAGD,YAAY,CAACE,OAAO,EAAE,GAAGH,IAAI,CAACG,OAAO,EAAE;IACpD,OAAOC,IAAI,CAACC,IAAI,CAACH,IAAI,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;EAChD;CACD;AA/CYzB,gBAAgB,GAAA6B,UAAA,EAP5BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,aAAa;EACvBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAClC,YAAY,EAAEC,YAAY,CAAC;EACrCkC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACWlC,gBAAgB,CA+C5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}