{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nlet DashboardComponent = class DashboardComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.estatisticas = {\n      total_produtos: 0,\n      valor_total_estoque: 0,\n      produtos_estoque_baixo: 0\n    };\n    this.ultimasMovimentacoes = [];\n    this.alertasEstoqueBaixo = [];\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.carregarDados();\n  }\n  carregarDados() {\n    this.loading = true;\n    this.apiService.getEstatisticas().subscribe({\n      next: data => this.estatisticas = data,\n      error: err => console.error(\"Erro ao carregar estatísticas:\", err)\n    });\n    this.apiService.getMovimentacoes().subscribe({\n      next: data => {\n        this.ultimasMovimentacoes = data.slice(0, 5);\n        this.loading = false;\n      },\n      error: err => console.error(\"Erro ao carregar movimentações:\", err)\n    });\n    this.apiService.getAlertasEstoqueBaixo().subscribe({\n      next: data => this.alertasEstoqueBaixo = data.slice(0, 5),\n      error: err => console.error(\"Erro ao carregar alertas:\", err)\n    });\n  }\n  formatarData(data) {\n    if (!data) return \"-\";\n    return new Date(data).toLocaleDateString(\"pt-BR\");\n  }\n  formatarMoeda(valor) {\n    return new Intl.NumberFormat(\"pt-BR\", {\n      style: \"currency\",\n      currency: \"BRL\"\n    }).format(valor);\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: \"app-dashboard\",\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: \"./dashboard.component.html\",\n  styleUrls: [\"./dashboard.component.css\"]\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"names":["Component","CommonModule","DashboardComponent","constructor","apiService","estatisticas","total_produtos","valor_total_estoque","produtos_estoque_baixo","ultimasMovimentacoes","alertasEstoqueBaixo","loading","ngOnInit","carregarDados","getEstatisticas","subscribe","next","data","error","err","console","getMovimentacoes","slice","getAlertasEstoqueBaixo","formatarData","Date","toLocaleDateString","formatarMoeda","valor","Intl","NumberFormat","style","currency","format","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\ANYCA\\Controle_de_estoque_de_comesticos-2\\angular-app\\src\\app\\pages\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, type OnInit } from \"@angular/core\"\r\nimport { CommonModule } from \"@angular/common\"\r\nimport type { ApiService, Estatisticas, Movimentacao, Produto } from \"../../service/api.service\"\r\n\r\n@Component({\r\n  selector: \"app-dashboard\",\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: \"./dashboard.component.html\",\r\n  styleUrls: [\"./dashboard.component.css\"],\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  estatisticas: Estatisticas = {\r\n    total_produtos: 0,\r\n    valor_total_estoque: 0,\r\n    produtos_estoque_baixo: 0,\r\n  }\r\n  ultimasMovimentacoes: Movimentacao[] = []\r\n  alertasEstoqueBaixo: Produto[] = []\r\n  loading = true\r\n\r\n  constructor(private apiService: ApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.carregarDados()\r\n  }\r\n\r\n  carregarDados() {\r\n    this.loading = true\r\n\r\n    this.apiService.getEstatisticas().subscribe({\r\n      next: (data) => (this.estatisticas = data),\r\n      error: (err) => console.error(\"Erro ao carregar estatísticas:\", err),\r\n    })\r\n\r\n    this.apiService.getMovimentacoes().subscribe({\r\n      next: (data) => {\r\n        this.ultimasMovimentacoes = data.slice(0, 5)\r\n        this.loading = false\r\n      },\r\n      error: (err) => console.error(\"Erro ao carregar movimentações:\", err),\r\n    })\r\n\r\n    this.apiService.getAlertasEstoqueBaixo().subscribe({\r\n      next: (data) => (this.alertasEstoqueBaixo = data.slice(0, 5)),\r\n      error: (err) => console.error(\"Erro ao carregar alertas:\", err),\r\n    })\r\n  }\r\n\r\n  formatarData(data: string | undefined): string {\r\n    if (!data) return \"-\"\r\n    return new Date(data).toLocaleDateString(\"pt-BR\")\r\n  }\r\n\r\n  formatarMoeda(valor: number): string {\r\n    return new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(valor)\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AACtD,SAASC,YAAY,QAAQ,iBAAiB;AAUvC,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAU7BC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAT9B,KAAAC,YAAY,GAAiB;MAC3BC,cAAc,EAAE,CAAC;MACjBC,mBAAmB,EAAE,CAAC;MACtBC,sBAAsB,EAAE;KACzB;IACD,KAAAC,oBAAoB,GAAmB,EAAE;IACzC,KAAAC,mBAAmB,GAAc,EAAE;IACnC,KAAAC,OAAO,GAAG,IAAI;EAE+B;EAE7CC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAaA,CAAA;IACX,IAAI,CAACF,OAAO,GAAG,IAAI;IAEnB,IAAI,CAACP,UAAU,CAACU,eAAe,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACZ,YAAY,GAAGY,IAAK;MAC1CC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,gCAAgC,EAAEC,GAAG;KACpE,CAAC;IAEF,IAAI,CAACf,UAAU,CAACiB,gBAAgB,EAAE,CAACN,SAAS,CAAC;MAC3CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACR,oBAAoB,GAAGQ,IAAI,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAC5C,IAAI,CAACX,OAAO,GAAG,KAAK;MACtB,CAAC;MACDO,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,iCAAiC,EAAEC,GAAG;KACrE,CAAC;IAEF,IAAI,CAACf,UAAU,CAACmB,sBAAsB,EAAE,CAACR,SAAS,CAAC;MACjDC,IAAI,EAAGC,IAAI,IAAM,IAAI,CAACP,mBAAmB,GAAGO,IAAI,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE;MAC7DJ,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,2BAA2B,EAAEC,GAAG;KAC/D,CAAC;EACJ;EAEAK,YAAYA,CAACP,IAAwB;IACnC,IAAI,CAACA,IAAI,EAAE,OAAO,GAAG;IACrB,OAAO,IAAIQ,IAAI,CAACR,IAAI,CAAC,CAACS,kBAAkB,CAAC,OAAO,CAAC;EACnD;EAEAC,aAAaA,CAACC,KAAa;IACzB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;KACX,CAAC,CAACC,MAAM,CAACL,KAAK,CAAC;EAClB;CACD;AAjDY1B,kBAAkB,GAAAgC,UAAA,EAP9BlC,SAAS,CAAC;EACTmC,QAAQ,EAAE,eAAe;EACzBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACpC,YAAY,CAAC;EACvBqC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWrC,kBAAkB,CAiD9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}